{"version":3,"file":"client-main.js","sources":["/home/ya_myn/dev/practice/fusion/fussion-increment/src/components/EventLog.js","/home/ya_myn/dev/practice/fusion/fussion-increment/src/components/Input.js","/home/ya_myn/dev/practice/fusion/fussion-increment/src/main.js","/home/ya_myn/dev/practice/fusion/fussion-increment/src/pages/home.js","/home/ya_myn/dev/practice/fusion/fussion-increment/src/pages/pageNotFound.js","/home/ya_myn/dev/practice/fusion/fussion-increment/src/redux/index.js","/home/ya_myn/dev/practice/fusion/fussion-increment/src/redux/value.js","/home/ya_myn/dev/practice/fusion/fussion-increment/src/root.js","/home/ya_myn/dev/practice/fusion/fussion-increment/src/rpc/index.js"],"sourcesContent":["// @flow\nimport React from 'react';\n\nimport { styled } from 'fusion-plugin-styletron-react';\n\nconst LogLine = styled('span', {\n    display: 'block',\n});\n\nconst EventLog = styled('div', {\n    marginTop: '30px',\n    padding: '5px',\n    border: '1px solid black',\n    overflowY: 'scroll',\n    height: '300px',\n    width: '600px',\n    maxWidth: '100%',\n});\n\nexport default () => (\n    <EventLog>\n        <LogLine>\n            Value incremented at {new Date().toString()}. New value: 1\n        </LogLine>\n        <LogLine>\n            Value incremented at {new Date().toString()}. New value: 2\n        </LogLine>\n        <LogLine>\n            Value decremented at {new Date().toString()}. New value: 1\n        </LogLine>\n    </EventLog>\n);\n","// src/components/Input.js\n// @flow\nimport React from 'react';\nimport { styled } from 'fusion-plugin-styletron-react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRPCRedux } from 'fusion-plugin-rpc-redux-react';\n\nconst CurrentValue = styled('span', {\n    marginRight: '20px',\n});\n\nconst Input = ({ value, increment }) => (\n    <div>\n        <CurrentValue>Current value: {value}</CurrentValue>\n        <button onClick={() => increment({ value })}>+</button>\n        <button>-</button>\n    </div>\n);\n\nconst hoc = compose(\n    withRPCRedux('increment'),\n    connect(({ value }) => ({ value })),\n);\n\nexport default hoc(Input);\n","// @flow\nimport App from 'fusion-react';\nimport Router from 'fusion-plugin-react-router';\nimport Styletron from 'fusion-plugin-styletron-react';\nimport UniversalEvents, {\n    UniversalEventsToken,\n} from 'fusion-plugin-universal-events';\nimport Redux, { ReduxToken, ReducerToken } from 'fusion-plugin-react-redux';\nimport RPC, { RPCToken, RPCHandlersToken } from 'fusion-plugin-rpc-redux-react';\nimport { FetchToken } from 'fusion-tokens';\nimport fetch from 'unfetch';\n\nimport root from './root.js';\nimport reducer from './redux/index.js';\nimport handlers from './rpc/index.js';\n\nexport default () => {\n    const app = new App(root);\n\n    app.register(Styletron);\n    app.register(Router);\n    app.register(RPCToken, RPC);\n    app.register(UniversalEventsToken, UniversalEvents);\n    __NODE__\n        ? app.register(RPCHandlersToken, handlers)\n        : app.register(FetchToken, fetch);\n    app.register(ReduxToken, Redux);\n    app.register(ReducerToken, reducer);\n\n    return app;\n};\n","// @flow\nimport React from 'react';\n\nimport Input from '../components/Input';\nimport EventLog from '../components/EventLog';\n\nconst Home = () => (\n    <div>\n        <Input />\n        <EventLog />\n    </div>\n);\n\nexport default Home;\n","// @flow\nimport React from 'react';\nimport {NotFound} from 'fusion-plugin-react-router';\n\nconst PageNotFound = () => (\n  <NotFound>\n    <div>404</div>\n  </NotFound>\n);\n\nexport default PageNotFound;\n","import valueReducer from './value';\n\nexport default (state = {}, action) => ({\n    value: valueReducer(state.value, action),\n});\n","export default (state = 0, action) => {\n    if (action.type === 'INCREMENT_START') {\n        return state;\n    } else if (action.type === 'INCREMENT_SUCCESS') {\n        return action.payload.value + 1;\n    } else if (action.type === 'INCREMENT_FAILURE') {\n        return state;\n    } else {\n        return state;\n    }\n};\n","// @flow\nimport React from 'react';\nimport { Route, Switch } from 'fusion-plugin-react-router';\n\nimport Home from './pages/home.js';\nimport PageNotFound from './pages/pageNotFound.js';\n\nconst root = (\n    <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route component={PageNotFound} />\n    </Switch>\n);\n\nexport default root;\n","export default {\n    increment: async ({ value }, _ctx) => {\n        return { value };\n    },\n};\n"],"mappings":";;;;;;;;;;;;;;;AACA;AAEA;AAEA;AACA;AADA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;AC3BA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AADA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAEA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;AC7BA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;;;;;;;;;;;;ACVA;AAAA;AAAA;AAEA;AACA;AADA;;;;;;;;;;;;ACFA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACTA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;;;;;;;;;ACdA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAHA;;;;;;;;;;;;;;;;;;A","sourceRoot":""}